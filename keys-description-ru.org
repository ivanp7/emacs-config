#+STARTUP: content

* Сочетания клавиш
** Common Lisp IDE (SLIME)
*** работа с редактором и буферами
**** работа с буферами
- Alt+S S :: переименование текущего файла и буфера
- Ctrl+F1 :: выбор буфера (slime-selector)
- Ctrl+ЛКМ :: открыть контекстное меню выбора буфера
- Menu Backspace :: закрыть текущий буфер
- Menu Shift+Backspace :: закрыть буфер в соседнем окне
- Menu Menu :: переключение на другое окно
- Menu , или Ctrl+, :: переключиться на предыдущий буфер
- Menu . или Ctrl+. :: переключиться на следующий буфер
- Menu Shift+, :: переключиться на предыдущий буфер в соседнем окне
- Menu Shift+. :: переключиться на следующий буфер в соседнем окне
- Menu влево :: передвинуть буфер влево
- Menu вправо :: передвинуть буфер вправо
- Menu вверх :: передвинуть буфер вверх
- Menu вниз :: передвинуть буфер вниз
- Menu Shift+влево :: поменять местами данный буфер и буфер слева
- Menu Shift+вправо :: поменять местами данный буфер и буфер справа
- Menu Shift+вверх :: поменять местами данный буфер и буфер сверху
- Menu Shift+вниз :: поменять местами данный буфер и буфер снизу
- Menu Ctrl+влево (или вправо) :: разделить текущий буфер горизонтально
     (на левую и правую части)
- Menu Ctrl+вверх (или вниз) :: разделить текущий буфер вертикально
     (на верхнюю и нижнюю части)
- Menu Delete :: убрать окно текущего буфера, соединив его с соседним
- Menu ` :: балансировка окон
- Menu Space :: создать новое окно и открыть в нем текущий буфер
**** пролистывание текста
- Ctrl+ПКМ :: открыть контекстное меню imenu со списком определений
- Alt+PageUp :: пролистывать другое окно вверх
- Alt+PageDown :: пролистывать другое окно вниз
- Shift+<колесо мыши> :: листать вверх-вниз быстрее
- Alt+- :: листать влево
- Alt+= :: листать вправо
- Alt+C :: центрировать окно относительно курсора
- Ctrl+Home :: перейти в начало файла
- Ctrl+End :: перейти в конец файла
- Alt+Home :: перейти в начало файла в соседнем окне
- Alt+End :: перейти в конец файла в соседнем окне
**** другое
- F10 :: показать оконное меню
- Alt+K или Alt+Shift+K :: изменять цвет символа под курсором
- Alt+J R :: сбросить цвет символа на стандартный
- Alt+J L :: загрузить настройки цветов символов из файла,
     сбросив несохраненные изменения
- Alt+J S :: сохранить настройки цветов символов в файл
- Ctrl+Alt+I :: увеличить прозрачность окна
- Ctrl+Alt+O :: уменьшить прозрачность окна
- Ctrl+Alt+P :: сделать окно непрозрачным
- Ctrl+Alt+PageDown :: уменьшить размер шрифта
- Ctrl+Alt+PageUp :: увеличить размер шрифта
- F11 :: полноэкранный режим
- Ctrl+/ :: переключить режим ввода (раскладку)
*** редактирование
**** перемещение по содержимому
- Alt+, :: перейти к предыдущему вхождению символа
- Alt+. :: перейти к следующему вхождению символа
- Ctrl+влево :: перейти на sexp назад
- Ctrl+вправо :: перейти на sexp вперед
- Ctrl+вниз :: переместиться внутрь ближайшего справа sexp-выражения
- Ctrl+вверх :: выйти наружу из данного sexp-выражения налево
- Alt+вверх :: перемещаться по формам верхнего уровня вверх
- Alt+вниз :: перемещаться по формам верхнего уровня вниз
- Alt+[ или Alt+влево :: перейти на слово назад
- Alt+] или Alt+вправо :: перейти на слово вперед
- Ctrl+L :: перейти к строке по ее номеру
**** выделение, подсветка
- ПКМ :: выделить символ без префикса
- двойной ПКМ :: выделить символ вместе с префиксом
- Alt+Shift+<колесо мыши> :: умное выделение семантических единиц
- Ctrl+Space :: начать выделение с данной позиции
- Alt+M :: подсветить все вхождения символа в буфере / отменить подсветку
- Alt+N :: запустить режим замены вхождений символа в буфере
- Alt+R :: подсветить все участки текста, подходящие под regexp
- Alt+U :: убрать подсветку regexp
- Alt+W :: включить/выключить режим подсвета quoted sexp-выражений
**** изменение содержимого
***** вставка слов, конструкций, окружение выделенного текста конструкциями
Слова:
- Alt+Z :: вставить "nil"
Заготовки конструкций:
- Alt+A A :: вставить заготовку лямбда-функции
- Alt+A D F :: вставить заготовку функции
- Alt+A D M :: вставить заготовку макроса
- Alt+A D P :: вставить заготовку параметра
- Alt+A D V :: вставить заготовку переменной
- Alt+A D C :: вставить заготовку константы
- Alt+A D S :: вставить заготовку класса
- Alt+A D D :: вставить заготовку метода класса
- Alt+A D G :: вставить заготовку обобщенной функции
- Alt+A B L :: вставить заготовку let
- Alt+A B O :: вставить заготовку let*
- Alt+A B F :: вставить заготовку flet
- Alt+A B R :: вставить заготовку labels
Скобки и самые используемые функции:
- Tab или Alt+Q :: вставить ()
- Alt+A ' :: вставить '()
- Alt+A ` :: вставить `()
- Alt+A , :: вставить ,()
- Alt+A Shift+2 :: вставить ,@()
- Alt+A Shift+3 :: вставить #()
- Alt+A O :: вставить (cons )
- Alt+A Q :: вставить (car )
- Alt+A W :: вставить (cdr )
- Alt+A 1 .. Alt+A 0 :: вставить (first ) .. (tenth )
- Alt+A N :: вставить (nth )
- Alt+A R :: вставить (rest )
- Alt+A T :: вставить (last )
- Alt+A L :: вставить (list )
- Alt+A V :: вставить (vector )
- Alt+A F :: вставить (funcall )
- Alt+A Y :: вставить (apply )
- Alt+A E :: вставить (eval )
- Alt+A U :: вставить (null )
- Alt+A S :: вставить (setf )
***** окружение выделенного текста парами
- Ctrl+Shift+8 :: ** (глобальная переменная)
- Ctrl+Shift+= :: ++ (глобальная константа)
- Ctrl+Shift+' :: "" (строка)
- Ctrl+Shift+\ :: || (идентификатор с произвольными символами)
- Ctrl+Shift+3 :: #||# (многострочный комментарий)
- Ctrl+; :: закомментировать sexp-выражение под курсором в #| ... |# или поднять
     комментарий на более высокий уровень
- Shift+Ctrl+; :: раскомментировать sexp-выражение из-под #| ... |#
***** другое
- Shift+Enter :: вставить новую строку и такой-же префикс однострочного комментария
- Alt+; :: закомментировать выделенный регион (строку) однострочным комментарием ; или
     раскомментировать (в том числе и многострочный комментарий #| ... |#)
- Ctrl+Insert :: дописать необходимое количество закрывающих скобок
- Shift+Backspace :: удалить часть строки до курсора
- Shift+Delete :: удалить часть строки от курсора
- Ctrl+Backspace :: удалить предыдущее s-выражение
- Ctrl+Delete :: удалить следующее s-выражение
- Shift+Tab :: удалить пару скобок текущего s-выражения, склеив его с вышележащим
- Ctrl+= :: переключение написания слова abc->Abc->ABC->abc
- Ctrl+\ :: удалить все непечатаемые символы вокруг курсора и вставить 1 пробел
- Ctrl+Tab :: выровнять текущее s-выражение, строку или выделенный регион
**** другое
- Ctrl+Menu :: переключение режима редактирования (символы - s-выражения)
- Ctrl+Shift+V :: открыть меню предыдущих вставок для выбора вставки
- Alt+/ :: узнать количество вхождений и номер вхождения данного символа
- СКМ :: свернуть/развернуть sexp
- Ctrl+Shift+F :: поиск в буфере по regexp и вывод результатов в отдельный буфер
- F2 :: открыть меню автозавершения
- Alt+T :: в режиме автозавершения, войти в режим фильтрации
- Ctrl+X L :: узнать количество строк в файле
*** исполнение, REPL
**** SLIME REPL
- Ctrl+Pause :: очистить буфер
- Pause Delete :: очистить вывод предыдущей команды (до предыдущего приглашения)
- Pause Backspace :: очистить текущий ввод
- Enter :: перейти на следующую строку с выравниванием
- Сtrl+Enter :: закрыть скобки и исполнить команду
- Alt+вверх :: перебор предыдущих команд (вверх по истории) и вставка после приглашения
- Alt+вниз :: перебор предыдущих команд (вниз по истории) и вставка после приглашения
- Alt+Shift+вверх :: перемещение по предыдущим приглашениям вверх
- Alt+Shift+вниз :: перемещение по предыдущим приглашениям вниз
**** общие команды SLIME
- Alt+Enter :: исполнить последнее выражение перед курсором и вставить результат тут же
- Shift+Escape :: прервать исполнение программы
- Alt+E :: интерактивный интерпретатор в минибуфере
- Alt+D :: редактировать значение переменной в отдельном буфере, по <Ctrl+C Ctrl+C>
     сохранять изменения
- Alt+F :: вызов Inspector для значения переменной
- Ctrl+Alt+F :: вызов Inspector для функции под курсором
- F4 :: выполнить последнее перед курсором выражение
- Ctrl+F4 :: выполнить последнее перед курсором выражение и напечатать результат
     в новый буфер
- Ctrl+Enter :: скопировать последнее перед курсором выражение в REPL и выполнить
- F5 :: выполнить выделенную область
- Ctrl+F5 :: выполнить выделенную область и напечатать результат в отдельный буфер
- F6 :: выполнить defun
- Shift+F6 :: скопировать в REPL вызов функции вида "(foo )" и установить курсор перед
     правой скобкой
- Ctrl+F6 :: форсировать переопределение defvar слева от курсора
- F7 :: выполнить весь текущий буфер
- F8 :: однократное раскрытие макроса и печать результата в отдельный буфер
- Shift+F8 :: полное раскрытие макроса и печать результата в отдельный буфер
- F9 :: завершить форму, вставив имена аргументов из определения
- Ctrl+F9 :: принудительно вызвать подсказку аргументов функции/макроса
**** SLIME Debugger
- T :: показать описание состояния локальных переменных выбранного фрейма
- V :: перейти к коду, выполняющемуся на выбранном фрейме
- E :: вызвать отладочный REPL в текущем фрейме
- D :: вызвать отладочный REPL в текущем фрейме с печатью результата в отдельный буфер
- Shift+D :: дизассемблировать функцию выбранного фрейма
- I :: вызвать отладочный REPL и инспектировать результат в отдельном буфере
- Ctrl+C Ctrl+C :: перекомпилировать код выбранного фрейма
- A :: исполнить перезапуск "отбой" (abort)
- Q :: исполнить перезапуск "выход" (quit)
- C :: исполнить перезапуск "продолжение" (continue)
- 0..9 :: исполнить перезапуск с выбранным номером
- N :: перемещаться по стеку фреймов вверх
- Alt+N :: перемещаться по стеку фреймов вверх с показом кода и состояния локальных переменных
- P :: перемещаться по стеку фреймов вниз
- Alt+P :: перемещаться по стеку фреймов вниз с показом кода и состояния локальных переменных
- > :: перейти к нижнему (первому в порядке вызовов) фрейму
- < :: перейти к верхнему (последнему в порядке вызовов) фрейму
- S :: шаг к следующему выражению в фрейме
- X :: шаг к следующей форме в текущей функции
- O :: шаг наружу - дождаться завершения работы текущей функции
- R :: перезапуск фрейма с теми же значениями аргументов
- Shift+R :: завершить выполнение фрейма и вернуть введенное с клавиатуры значение
- Shift+B :: выйти из SLDB и выполнить отладку средствами Лиспа
- Shift+C :: инспектировать отлаживаемое условие
- Shift+; :: вызвать отладочный REPL
- Shift+A :: вызвать GDB на текущем Лисп-процессе
**** SLIME Inspector
- Q :: выход
- Tab :: переместить курсор к следующему значению
- Shift+Tab :: переместить курсор к предыдущему значению
- Enter :: инспектировать значение под курсором
- L :: возврат на шаг назад по истории инспектирования
- N или Space :: переход на шаг вперед по истории инспектирования
- Alt+Enter :: сохранить значение под курсором в переменной *
- D :: описать значение под курсором в отдельном буфере
- P :: pretty-print значения под курсором в отдельном буфере
- E :: исполнить выражение в контексте исследуемого значения
- G :: обновить информацию
- V :: переключение между подробным/кратким режимами описания
- . :: показать источник значения под курсором
- > :: переход в конец буфера
**** исполнение команд Emacs и Emacs Lisp
- Ctrl+J :: в режиме lisp-interaction-mode исполнить последнее выражение и
     напечатать результат тут же
- Ctrl+X Ctrl+E :: в режиме emacs-lisp-mode исполнить последнее выражение
- Alt+X :: исполнить команду в минибуфере
- Ctrl+Alt+X :: исполнить команду оболочки (shell command)
- Shift+Ctrl+Alt+X :: повторить последнюю команду оболочки в минибуфере
- Alt+Shift+; :: исполнить выражение Emacs Lisp в минибуфере
*** получение справочной информации
**** Common Lisp
***** встроенная документация
- Ctrl+Alt+ЛКМ или Alt+I :: получить документацию о символе по щелчку по нему
     во всплывающей подсказке
- F1 F2 D :: получить описание символа по имени
- F1 F2 F :: получить описание функции по имени
***** Common Lisp HyperSpec
- F1 F1 :: найти информацию о символе в Common Lisp HyperSpec
- F1 F2 ~ :: описание управляющей последовательности format в CLHS
- F1 F2 # :: найти информацию о макросах чтения ('#', '(', ...) в CLHS
***** apropos
- F1 F2 A :: получить список только внешних символов по части имени
- F1 F2 Z :: получить список внешних и внутренних символов по части имени
- F1 F2 P :: получить список внешних символов в пакете
В режиме slime-apropos:
- L или Ctrl+M :: получить описание символа, на который указывает курсор
- J :: переместить курсор к следующему символу
- K :: переместить курсор к предыдущему символу
**** Emacs
***** общая информация
- F1 ? :: справка по возможностям F1
- F1 i :: открыть info, браузер по справочной информации
- F1 f :: получить справку о команде
- F1 a :: найти команду по regexp и получить справку
***** информация о сочетаниях клавиш
- F1 k или Ctrl+H k :: получить информацию о сочетании клавиш
- F1 b :: список всех действующих сочетаний клавиш
*** борьба с багами
**** неправильное определение границ символа при наличии префикса ,@
- Alt+B :: вставить пробелы между префиксом ,@ и символом по всему файлу
     (кроме строк и комментариев); эти пробелы будут удалены после сохранения
** org-mode
*** разделы и подразделы
- Tab или СКМ :: настройка показа структуры подразделов для данного раздела
- Shift+Tab или Shift+СКМ :: настройка показа подразделов для всех разделов
- Ctrl+Enter :: создать новый подраздел того же уровня после данного
- Alt+Enter :: создать новый подраздел того же уровня на месте данного
- Alt+Shift+Enter :: создать новый TODO-подраздел того же уровня
- Ctrl+` :: (в глобальном TODO-списке - T или Ctrl+C Ctrl+T) пометить раздел как
     TODO / DELAYED / INPROGRESS / DONE / CANCELED / либо убрать пометку
- Alt+Shift+<влево/вправо> :: горизонтальное перемещение раздела
- Alt+Shift+<влево/вправо> :: горизонтальное перемещение раздела со всем содержимым
     и подразделами
*** списки
- Alt+Enter :: создать новый пункт списка
- Alt+Shift+Enter :: создать новый пункт списка с флажком
- Ctrl+C Ctrl+C :: переключить флажок в пункте списка
- Ctrl+C - :: изменить стиль списка
*** таблицы
- Ctrl+C | :: создать таблицу заданного размера либо превратить текст в таблицу
- Ctrl+C Ctrl+C :: выровнять таблицу
- Tab :: перейти в ячейку справа
- Shift+Tab :: перейти в ячейку слева
- Enter :: перейти в ячейку снизу
- Alt+Shift+<влево> :: удалить текущий стобец
- Alt+Shift+<вправо> :: вставить новый столбец слева от курсора
- Alt+Shift+<вверх> :: удалить текущую строку
- Alt+Shift+<вниз> :: вставить новую строку сверху от курсора
- Ctrl+U Alt+Shift+<вниз> :: вставить новую строку снизу от курсора
- Ctrl+C - :: вставить разделитель снизу от курсора
- Ctrl+C Enter :: вставить разделитель снизу от курсора и перейти на следующую строку
- Shift+Enter :: перейти на следующую строку с копированием значения
- Ctrl+C ` :: редактировать ячейку в отдельном буфере
*** код
- Ctrl+C Ctrl+C :: исполнить код и вставить результат после блока
*** другое
- Ctrl+C L :: поместить ссылку на org-файл в хранилище ссылок
- Ctrl+C Ctrl+L :: открыть буфер хранилища ссылок и вставить ссылку
- Ctrl+C A :: открыть меню команд Agenda
- Ctrl+C Ctrl+Z :: создать и вставить заметку с указанием времени и даты
- Ctrl+C Ctrl+S :: вставить пометку "запланировано:" с датой
- Ctrl+C Ctrl+D :: вставить пометку "крайний срок:" с датой
- Alt+<влево/вправо> :: горизонтальное перемещение (изменять глубину)
- Alt+<вверх/вниз> :: вертикальное перемещение (изменять порядок)
- Ctrl+C / :: выбор типа элементов для показа в разреженном дереве
- Ctrl+C Ctrl+X \ :: включить/выключить красивое отображение под- и надстрочных знаков
- Ctrl+C C J :: поместить запись с указанием времени и даты в журнал
** magit
В файловых буферах, относящихся к файлам из репозитория git:
- Ctrl+X G :: вызвать magit-status
- Ctrl+X Alt+G :: показать список команд, доступных для проекта
- Ctrl+C Alt+G :: показать список команд, доступных для файла
